# DESIGN.md - Unity 6 3Dã‚²ãƒ¼ãƒ åŸºç›¤ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ æŠ€è¡“è¨­è¨ˆæ›¸

## æ–‡æ›¸ç®¡ç†æƒ…å ±

- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¨®åˆ¥**: æŠ€è¡“è¨­è¨ˆæ›¸ï¼ˆSDDãƒ•ã‚§ãƒ¼ã‚º3: è¨­è¨ˆï¼‰
- **ç”Ÿæˆå…ƒ**: REQUIREMENTS.md - Unity 6 3Dã‚²ãƒ¼ãƒ åŸºç›¤ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ å½¢å¼åŒ–ã•ã‚ŒãŸè¦ä»¶å®šç¾©
- **ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£**: SPEC.md v3.0 ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ“ã‚¸ãƒ§ãƒ³ â†’ REQUIREMENTS.md â†’ æœ¬æŠ€è¡“è¨­è¨ˆæ›¸
- **å¯¾è±¡èª­è€…**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã€ã‚·ãƒ‹ã‚¢é–‹ç™ºè€…ã€æŠ€è¡“ãƒªãƒ¼ãƒ‰ã€å®Ÿè£…æ‹…å½“è€…
- **æ›´æ–°æ—¥**: 2025å¹´9æœˆï¼ˆSPEC.md v3.0 + REQUIREMENTS.md å®Œå…¨æ•´åˆæ€§ç¢ºä¿æ›´æ–°ï¼‰
- **æ•´åˆæ€§çŠ¶æ…‹**: SPEC.md v3.0 ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ“ã‚¸ãƒ§ãƒ³ã¨REQUIREMENTS.md ã¨ã®å®Œå…¨æ•´åˆæ€§ç¢ºä¿æ¸ˆã¿

## è¨­è¨ˆåŸå‰‡ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ“ã‚¸ãƒ§ãƒ³

### ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆãƒ“ã‚¸ãƒ§ãƒ³ï¼ˆSPEC.md v3.0 å®Œå…¨å¯¾å¿œï¼‰

ã“ã®æŠ€è¡“è¨­è¨ˆã¯ã€**SPEC.md v3.0 ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ“ã‚¸ãƒ§ãƒ³ã®4ã¤ã®æ ¸å¿ƒä¾¡å€¤**ã‚’æŠ€è¡“å®Ÿè£…ã§å®Ÿç¾ã—ã¾ã™ï¼š

#### æ ¸å¿ƒä¾¡å€¤å®Ÿç¾ã®ãŸã‚ã®è¨­è¨ˆæˆ¦ç•¥
- **Clone & Create**: 1åˆ†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®æŠ€è¡“åŸºç›¤è¨­è¨ˆï¼ˆ97%æ™‚é–“çŸ­ç¸®å®Ÿç¾ï¼‰
- **Learn & Grow**: æ®µéšçš„å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆå­¦ç¿’ã‚³ã‚¹ãƒˆ70%å‰Šæ¸›ï¼‰
- **Ship & Scale**: ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³å¯¾å¿œã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«è¨­è¨ˆï¼ˆãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—â†’æœ¬ç•ªå®Œå…¨å¯¾å¿œï¼‰
- **Community & Ecosystem**: æ‹¡å¼µå¯èƒ½ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ æŠ€è¡“åŸºç›¤ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå…±æœ‰ãƒ»çŸ¥è­˜äº¤æ›ï¼‰

### 5ã¤ã®æ ¸å¿ƒè¨­è¨ˆæ€æƒ³

#### 1. Event-Driven Architecture First
- **è¨­è¨ˆåŸå‰‡**: å…¨ã¦ã®ã‚·ã‚¹ãƒ†ãƒ é–“é€šä¿¡ã‚’ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã§å®Ÿè£…
- **æŠ€è¡“å®Ÿç¾**: ScriptableObjectãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ£ãƒãƒ«ï¼ˆGameEventï¼‰
- **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**: ç–çµåˆè¨­è¨ˆã«ã‚ˆã‚‹ä¿å®ˆæ€§ãƒ»æ‹¡å¼µæ€§ã®æœ€å¤§åŒ–ã€ãƒãƒ¼ãƒ é–‹ç™ºåŠ¹ç‡å‘ä¸Š
- **ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè²¢çŒ®**: Learn & Grow ä¾¡å€¤ï¼ˆç†è§£ã—ã‚„ã™ã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼‰

#### 2. Command + ObjectPool çµ±åˆã«ã‚ˆã‚‹æ¥µé™æœ€é©åŒ–
- **è¨­è¨ˆåŸå‰‡**: å…¨ã¦ã®æ“ä½œã‚’ã‚³ãƒãƒ³ãƒ‰åŒ–ã—ã€ObjectPoolã§å†åˆ©ç”¨
- **æŠ€è¡“å®Ÿç¾**: Factory+Registry+ObjectPoolçµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **å®šé‡çš„åŠ¹æœ**: 95%ãƒ¡ãƒ¢ãƒªå‰Šæ¸›ã€67%å®Ÿè¡Œé€Ÿåº¦æ”¹å–„ã®å®Ÿç¾
- **ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè²¢çŒ®**: Ship & Scale ä¾¡å€¤ï¼ˆãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³å“è³ªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼‰

#### 3. State-Driven Behavior Management
- **è¨­è¨ˆåŸå‰‡**: è¤‡é›‘ãªè¡Œå‹•åˆ¶å¾¡ã‚’çŠ¶æ…‹ãƒã‚·ãƒ³ã§ç®¡ç†
- **æŠ€è¡“å®Ÿç¾**: Dictionary<StateType, IState>ã«ã‚ˆã‚‹é«˜é€ŸçŠ¶æ…‹ç®¡ç†
- **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**: äºˆæ¸¬å¯èƒ½ã§æ‹¡å¼µå®¹æ˜“ãªè¡Œå‹•ã‚·ã‚¹ãƒ†ãƒ 
- **ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè²¢çŒ®**: Learn & Grow ä¾¡å€¤ï¼ˆç›´æ„Ÿçš„ãªçŠ¶æ…‹ç®¡ç†ï¼‰

#### 4. Data-Configuration Driven Development
- **è¨­è¨ˆåŸå‰‡**: ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ‡ãƒ¼ã‚¿ã®å®Œå…¨åˆ†é›¢
- **æŠ€è¡“å®Ÿç¾**: ScriptableObjectã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿è³‡ç”£åŒ–
- **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**: ãƒãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã«ã‚ˆã‚‹ç‹¬ç«‹ã—ãŸã‚²ãƒ¼ãƒ èª¿æ•´
- **ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè²¢çŒ®**: Community & Ecosystem ä¾¡å€¤ï¼ˆéæŠ€è¡“è€…ã®å‚åŠ ä¿ƒé€²ï¼‰

#### 5. SDDçµ±åˆã«ã‚ˆã‚‹å“è³ªä¿è¨¼è¨­è¨ˆï¼ˆæ–°è¦è¿½åŠ ï¼‰
- **è¨­è¨ˆåŸå‰‡**: ã‚¹ãƒšãƒƒã‚¯é§†å‹•é–‹ç™ºï¼ˆSDDï¼‰ã¨AIé€£æºã«ã‚ˆã‚‹å“è³ªä¿è¨¼
- **æŠ€è¡“å®Ÿç¾**: 5æ®µéšãƒ•ã‚§ãƒ¼ã‚ºç®¡ç† + MCPã‚µãƒ¼ãƒãƒ¼çµ±åˆ
- **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**: AI+äººé–“ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰é–‹ç™ºã«ã‚ˆã‚‹åŠ¹ç‡åŒ–
- **ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè²¢çŒ®**: Clone & Create ä¾¡å€¤ï¼ˆ1åˆ†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®æŠ€è¡“åŸºç›¤ï¼‰

## ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### Layer 1: Core Foundation Layerï¼ˆåŸºç›¤å±¤ï¼‰

#### 1.1 Event System Architecture

```
EventSystem Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Event Channel Layer             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GameEvent<T>           â”‚ GenericGameEvent<T> â”‚
â”‚ - Raise(T)            â”‚ - RaiseAsync(T)     â”‚
â”‚ - Listen(Action<T>)   â”‚ - Priority Queue    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Listener Management Layer         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HashSet<GameEventListener> - O(1) ç®¡ç†      â”‚
â”‚ Priority Sorted Cache - å„ªå…ˆåº¦åˆ¶å¾¡          â”‚
â”‚ Memory Leak Prevention - è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®Ÿè£…æˆ¦ç•¥**:
- `GameEvent.cs`: BaseGameEventã‚¯ãƒ©ã‚¹ + ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹å¯¾å¿œ
- `GameEventListener.cs`: IGameEventListener<T>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…
- `EventChannelRegistry.cs`: å…¨ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ£ãƒãƒ«ã®ä¸­å¤®ç®¡ç†
- **ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–**: WeakReferenceã«ã‚ˆã‚‹ãƒªã‚¹ãƒŠãƒ¼è‡ªå‹•è§£æ”¾
- **éåŒæœŸå¯¾å¿œ**: UniTaskçµ±åˆã«ã‚ˆã‚‹RaiseAsyncå®Ÿè£…

#### 1.2 Command + ObjectPool Integration Architecture

```
Command System Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Command Interface Layer        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ICommand              â”‚ IResettableCommand   â”‚
â”‚ - Execute()           â”‚ - Reset()            â”‚
â”‚ - Undo()             â”‚ - IsReusable         â”‚
â”‚ - CanUndo            â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Factory + Registry Layer         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ICommandFactory<T>    â”‚ ITypeRegistry<T>     â”‚
â”‚ - Create<T>()         â”‚ - Register<T>()      â”‚
â”‚ - CreatePooled<T>()   â”‚ - Resolve<T>()       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ObjectPool Layer               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CommandPoolManager    â”‚ IObjectPool<T>       â”‚
â”‚ - Get<T>()           â”‚ - Get()              â”‚
â”‚ - Return<T>()        â”‚ - Return()           â”‚
â”‚ - Statistics         â”‚ - Clear()            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®Ÿè£…æˆ¦ç•¥**:
- `CommandPoolManager.cs`: Singletonçµ±åˆç®¡ç†ã‚¯ãƒ©ã‚¹
- `ITypeRegistry<IObjectPool<ICommand>>`: å‹å®‰å…¨ãªãƒ—ãƒ¼ãƒ«ç®¡ç†
- **çµ±è¨ˆã‚·ã‚¹ãƒ†ãƒ **: ä½¿ç”¨çŠ¶æ³ãƒ»å†åˆ©ç”¨ç‡ã®è‡ªå‹•è¨ˆæ¸¬
- **ãƒ¡ãƒ¢ãƒªç›£è¦–**: Unity Profilerçµ±åˆã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–

### Layer 2: Feature System Layerï¼ˆæ©Ÿèƒ½ã‚·ã‚¹ãƒ†ãƒ å±¤ï¼‰

#### 2.1 State Machine System Design

##### Camera State Machine Architecture

```
Camera State System:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Camera State Interface            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ICameraState                                â”‚
â”‚ - Enter(context)     â”‚ - Update(deltaTime)  â”‚
â”‚ - Exit()            â”‚ - HandleInput()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              State Implementations          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ FirstPersonState     â”‚ ThirdPersonState     â”‚
â”‚ - FOV: 60-90Â°       â”‚ - Distance: 3-8m     â”‚
â”‚ - MouseSensitivity  â”‚ - OrbitControls      â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AimState            â”‚ CoverState           â”‚
â”‚ - FOV: 30-45Â°       â”‚ - PeekingOffset      â”‚
â”‚ - Crosshair UI      â”‚ - WallAlignment      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ€è¡“å®Ÿè£…è©³ç´°**:
- **Cinemachine 3.1çµ±åˆ**: VirtualCameraå„ªå…ˆåº¦ç®¡ç†
- **State Context**: CameraStateContextæ§‹é€ ä½“ã«ã‚ˆã‚‹çŠ¶æ…‹å…±æœ‰
- **Transition System**: StateTransitionRuleé…åˆ—ã«ã‚ˆã‚‹ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹é·ç§»
- **Performance**: Dictionary<CameraStateType, ICameraState>ã«ã‚ˆã‚‹é«˜é€Ÿæ¤œç´¢

##### AI State Machine Architecture

```
AI State System:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             AI State Interface               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ IAIState                                    â”‚
â”‚ - Enter(agent)       â”‚ - Update(agent)      â”‚
â”‚ - Exit(agent)        â”‚ - OnSuspicionChange()â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Suspicion-Driven State System      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SuspicionLevel: 0.0f - 1.0f                â”‚
â”‚ â”œâ”€ 0.0 - 0.3: Idle/Patrol                  â”‚
â”‚ â”œâ”€ 0.3 - 0.7: Suspicious/Investigating     â”‚
â”‚ â”œâ”€ 0.7 - 0.9: Alert/Searching              â”‚
â”‚ â””â”€ 0.9 - 1.0: Combat                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**AIçŠ¶æ…‹å®Ÿè£…æˆ¦ç•¥**:
- **NavMeshAgentçµ±åˆ**: å„çŠ¶æ…‹ã§ã®ç§»å‹•åˆ¶å¾¡ãƒ‘ã‚¿ãƒ¼ãƒ³
- **Suspicion System**: æ®µéšçš„è­¦æˆ’ãƒ¬ãƒ™ãƒ«åˆ¶å¾¡ã«ã‚ˆã‚‹è‡ªå‹•çŠ¶æ…‹é·ç§»
- **Behavior Tree Integration**: Complex AIè¡Œå‹•ã®éšå±¤çš„ç®¡ç†
- **Memory System**: LastKnownPosition, SuspiciousEventså±¥æ­´ç®¡ç†

#### 2.2 Stealth Audio System Design

```
Stealth Audio Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Central Coordinator Layer          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ StealthAudioCoordinator (Singleton)         â”‚
â”‚ - AIè­¦æˆ’ãƒ¬ãƒ™ãƒ«é€£å‹•    â”‚ - ç’°å¢ƒãƒã‚¹ã‚­ãƒ³ã‚°è¨ˆç®—  â”‚
â”‚ - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚­ãƒ³ã‚°â”‚ - 3Dç©ºé–“éŸ³éŸ¿åˆ¶å¾¡    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Sensor Layer                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NPCAuditorySensor     â”‚ DynamicAudioEnvironmentâ”‚
â”‚ - 3Dè·é›¢æ¸›è¡°         â”‚ - ç’°å¢ƒéŸ³ãƒã‚¹ã‚­ãƒ³ã‚°     â”‚
â”‚ - éšœå®³ç‰©æ¤œçŸ¥         â”‚ - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ èª¿æ•´     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªå®Ÿè£…æˆ¦ç•¥**:
- **AudioMixerGroupçµ±åˆ**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚­ãƒ³ã‚°åˆ¶å¾¡
- **Physics Raycasting**: éŸ³éŸ¿é®è”½ã®ç‰©ç†çš„è¨ˆç®—
- **è·é›¢é–¢æ•°**: Customæ›²ç·šã«ã‚ˆã‚‹ç¾å®Ÿçš„ãªéŸ³éŸ¿æ¸›è¡°
- **Event Integration**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è¡Œå‹•ã‚¤ãƒ™ãƒ³ãƒˆã¨ã®å³åº§é€£å‹•

#### 2.3 AI Visual Sensor System Designï¼ˆæ–°è¦è¿½åŠ ï¼‰

```
Visual Sensor Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            NPCVisualSensor Core              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NPCVisualSensor (MonoBehaviour)             â”‚
â”‚ - ç¶™ç¶šçš„è¦–ç•Œã‚¹ã‚­ãƒ£ãƒ³    â”‚ - å¤šé‡åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ    â”‚
â”‚ - æ®µéšçš„æ¤œå‡ºåˆ¶å¾¡       â”‚ - è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Detection Module Layer             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ VisualDetectionModule â”‚ TargetTrackingModule â”‚
â”‚ - è·é›¢ãƒ»è§’åº¦ãƒ»é®è”½ãƒ»å…‰é‡â”‚ - è¤‡æ•°ç›®æ¨™åŒæ™‚è¿½è·¡   â”‚
â”‚ - é–¾å€¤ãƒ™ãƒ¼ã‚¹åˆ¤å®š       â”‚ - å„ªå…ˆåº¦ç®¡ç†        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AlertSystemModule     â”‚ MemoryModule         â”‚
â”‚ - 4æ®µéšè­¦æˆ’ãƒ¬ãƒ™ãƒ«      â”‚ - çŸ­æœŸãƒ»é•·æœŸè¨˜æ†¶     â”‚
â”‚ - è‡ªå‹•é·ç§»åˆ¶å¾¡        â”‚ - ä½ç½®å±¥æ­´ç®¡ç†       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Configuration Layer                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ VisualSensorSettings  â”‚ DetectionConfigurationâ”‚
â”‚ (ScriptableObject)    â”‚ (ScriptableObject)   â”‚
â”‚ - ã‚¹ã‚­ãƒ£ãƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿    â”‚ - æ¤œå‡ºé–¾å€¤è¨­å®š      â”‚
â”‚ - è¨˜æ†¶è¨­å®š           â”‚ - ç’°å¢ƒè¨­å®š          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¦–è¦šã‚»ãƒ³ã‚µãƒ¼å®Ÿè£…æˆ¦ç•¥**:
- **ç¶™ç¶šçš„ã‚¹ã‚­ãƒ£ãƒ³ã‚·ã‚¹ãƒ†ãƒ **: Update()ã§ã®10-20Hzå¯å¤‰é »åº¦ã‚¹ã‚­ãƒ£ãƒ³
- **å¤šé‡åˆ¤å®šçµ±åˆ**: VisibilityCalculatoræ‹¡å¼µã«ã‚ˆã‚‹ç·åˆè©•ä¾¡
- **è­¦æˆ’ãƒ¬ãƒ™ãƒ«ç®¡ç†**: AlertLevel.Relaxed â†’ Suspicious â†’ Investigating â†’ Alert
- **è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ **: çŸ­æœŸè¨˜æ†¶ï¼ˆ5ç§’ï¼‰â†’é•·æœŸè¨˜æ†¶ï¼ˆ30ç§’ï¼‰ã®éšå±¤ç®¡ç†
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: LODã€ãƒ•ãƒ¬ãƒ¼ãƒ åˆ†æ•£ã€æ—©æœŸã‚«ãƒªãƒ³ã‚°

##### Visual Sensor Data Structures

```csharp
// æ¤œå‡ºç›®æ¨™æƒ…å ±ã®è©³ç´°æ§‹é€ 
public class DetectedTarget
{
    public Transform target;
    public float detectionStrength;      // 0.0f - 1.0f
    public TargetThreatLevel threatLevel; // Low/Medium/High
    public float firstSeenTime;
    public float lastSeenTime;
    public Vector3 lastKnownPosition;
    public Vector3 predictedPosition;
    public bool isCurrentlyVisible;
    public bool isInvestigating;
}

// è­¦æˆ’ãƒ¬ãƒ™ãƒ«å®šç¾©
public enum AlertLevel
{
    Relaxed,        // 0.0f - 0.2f: é€šå¸¸çŠ¶æ…‹
    Suspicious,     // 0.2f - 0.5f: ç–‘å¿µçŠ¶æ…‹  
    Investigating,  // 0.5f - 0.8f: èª¿æŸ»çŠ¶æ…‹
    Alert          // 0.8f - 1.0f: è­¦æˆ’çŠ¶æ…‹
}

// è¦–è¦šã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿
public class VisualEventData
{
    public Transform observer;
    public Transform target;
    public float detectionStrength;
    public Vector3 detectionPosition;
    public AlertLevel alertLevel;
    public VisualEventType eventType;
}
```

##### Visual Sensor Performance Architecture

```
Performance Optimization Strategy:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Frame Distribution System         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DistributedScanCoroutine                    â”‚
â”‚ - Basic Scan (Frame 1)                     â”‚
â”‚ - Detailed Detection (Frame 2)             â”‚
â”‚ - Memory Update (Frame 3)                  â”‚
â”‚ - Prediction System (Frame 4)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              LOD System                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Distance-Based Quality Scaling:             â”‚
â”‚ - Near (<15m): 1.0x quality                â”‚
â”‚ - Medium (<30m): 0.7x quality              â”‚
â”‚ - Far (>30m): 0.4x quality                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ€§èƒ½è¦ä»¶å®Ÿè£…**:
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: NPCã‚ãŸã‚Šæœ€å¤§5KBä½¿ç”¨é‡
- **CPUåŠ¹ç‡**: 1ãƒ•ãƒ¬ãƒ¼ãƒ ã‚ãŸã‚Š0.1msä»¥ä¸‹
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: 50ä½“NPCåŒæ™‚ç¨¼åƒå¯¾å¿œ
- **æ—©æœŸã‚«ãƒªãƒ³ã‚°**: è¦–ç•Œå¤–ç›®æ¨™ã®å‡¦ç†ã‚¹ã‚­ãƒƒãƒ—

##### AI Sensor Integration Architecture

```
Sensor Fusion System:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Integrated Sensor Coordinator       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NPCVisualSensor + NPCAuditorySensor         â”‚
â”‚ - æƒ…å ±çµ±åˆå‡¦ç†        â”‚ - ç›¸äº’è£œå®Œæ©Ÿèƒ½      â”‚
â”‚ - çµ±åˆè­¦æˆ’ãƒ¬ãƒ™ãƒ«      â”‚ - å”èª¿æ¤œå‡ºã‚·ã‚¹ãƒ†ãƒ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            AIStateMachine Integration        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Visual Detection â†’ AI State Transition:    â”‚
â”‚ - Detection Events â†’ Suspicious State      â”‚
â”‚ - Target Lost â†’ Searching State            â”‚
â”‚ - Alert Level â†’ Combat State               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Layer 3: Integration Layerï¼ˆçµ±åˆå±¤ï¼‰

#### 3.1 Cinemachine Integration Design

```
Cinemachine Integration:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Cinemachine Wrapper Layer           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CinemachineIntegration (Singleton)          â”‚
â”‚ - VirtualCameraç®¡ç†   â”‚ - Priorityåˆ¶å¾¡      â”‚
â”‚ - Blendè¨­å®š          â”‚ - Eventé€£å‹•        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Configuration Layer              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CameraConfig (ScriptableObject)            â”‚
â”‚ - ã‚«ãƒ¡ãƒ©è¨­å®šãƒ‡ãƒ¼ã‚¿    â”‚ - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†   â”‚
â”‚ - ãƒ–ãƒ¬ãƒ³ãƒ‰æ™‚é–“       â”‚ - æ„Ÿåº¦è¨­å®š          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2 Input System Integration

```
Input Integration Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Input Action Layer             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PlayerInputActions (Generated)              â”‚
â”‚ - Movement Map       â”‚ - Camera Map         â”‚
â”‚ - Combat Map         â”‚ - UI Map             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Input Handler Layer              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ InputManager         â”‚ StateInputHandler    â”‚
â”‚ - Action Binding     â”‚ - Context Switching  â”‚
â”‚ - Event Translation  â”‚ - Priority Managementâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### ScriptableObject Data Architecture

```
Data Asset Hierarchy:
â”œâ”€ GameData/
â”‚  â”œâ”€ Characters/
â”‚  â”‚  â”œâ”€ CharacterStats.asset
â”‚  â”‚  â”œâ”€ PlayerConfig.asset
â”‚  â”‚  â””â”€ NPCBehaviorData.asset
â”‚  â”œâ”€ Audio/
â”‚  â”‚  â”œâ”€ StealthAudioConfig.asset
â”‚  â”‚  â”œâ”€ EnvironmentAudioData.asset
â”‚  â”‚  â””â”€ SFXLibrary.asset
â”‚  â”œâ”€ Camera/
â”‚  â”‚  â”œâ”€ CameraProfiles.asset
â”‚  â”‚  â””â”€ StateTransitions.asset
â”‚  â””â”€ Events/
â”‚     â”œâ”€ GameEvents.asset
â”‚     â””â”€ EventChannels.asset
```

### Data Validation Strategy

**å®Ÿè£…æ–¹é‡**:
- **Odin Validatorçµ±åˆ**: ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®è‡ªå‹•æ¤œè¨¼
- **Custom Validation Rules**: ã‚²ãƒ¼ãƒ å›ºæœ‰ã®ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«å®Ÿè£…
- **Runtime Validation**: å®Ÿè¡Œæ™‚ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **Editor Tools**: Inspector UIæ‹¡å¼µã«ã‚ˆã‚‹ç›´æ„Ÿçš„ç·¨é›†ç’°å¢ƒ

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–è¨­è¨ˆ

### Memory Optimization Strategy

#### ObjectPoolæœ€é©åŒ–å®Ÿè£…

```csharp
public class OptimizedCommandPool<T> : IObjectPool<T> where T : class, IResettableCommand, new()
{
    private readonly ConcurrentQueue<T> _pool = new();
    private readonly int _maxPoolSize;
    private int _currentCount;
    
    // çµ±è¨ˆæƒ…å ±
    public PoolStatistics Statistics { get; }
    
    public T Get()
    {
        if (_pool.TryDequeue(out T item))
        {
            Statistics.RecordReuse();
            return item;
        }
        
        Statistics.RecordCreate();
        return new T();
    }
    
    public void Return(T item)
    {
        if (_currentCount < _maxPoolSize)
        {
            item.Reset();
            _pool.Enqueue(item);
            Interlocked.Increment(ref _currentCount);
        }
    }
}
```

### CPU Performance Strategy

#### Event Systemæœ€é©åŒ–
- **HashSet<T>ã«ã‚ˆã‚‹é«˜é€Ÿãƒªã‚¹ãƒŠãƒ¼ç®¡ç†**: O(1)è¿½åŠ ãƒ»å‰Šé™¤
- **Priority Queue Cache**: ã‚½ãƒ¼ãƒˆæ¸ˆã¿ãƒªã‚¹ãƒˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- **Batch Event Processing**: ãƒ•ãƒ¬ãƒ¼ãƒ æœ«å°¾ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆä¸€æ‹¬å‡¦ç†

#### State Machineæœ€é©åŒ–
- **Dictionary<StateType, IState>**: å®šæ•°æ™‚é–“çŠ¶æ…‹æ¤œç´¢
- **State Context Pooling**: Contextæ§‹é€ ä½“ã®å†åˆ©ç”¨
- **Transition Rule Caching**: é·ç§»ãƒ«ãƒ¼ãƒ«ã®äº‹å‰è¨ˆç®—

## ã‚¨ãƒ‡ã‚£ã‚¿ãƒ„ãƒ¼ãƒ«è¨­è¨ˆ

### Development Support Tools Architecture

#### EventFlowVisualizer
```
Event Flow Visualization:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Graph Renderer                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - Node-Based UI      â”‚ - Real-time Update   â”‚
â”‚ - Dependency Graph   â”‚ - Interactive Filter â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®Ÿè£…æ–¹é‡**:
- **Unity GraphView API**: ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿
- **Real-time Monitoring**: Play Modeä¸­ã®ã‚¤ãƒ™ãƒ³ãƒˆæµã‚Œç›£è¦–
- **ExportåŠŸèƒ½**: PNG/PDFã§ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡ºåŠ›

#### CommandInvokerEditor
- **å±¥æ­´ç®¡ç†**: Commandå®Ÿè¡Œå±¥æ­´ã®è¦–è¦šåŒ–
- **Undo Stack Viewer**: Undoã‚¹ã‚¿ãƒƒã‚¯ã®çŠ¶æ…‹è¡¨ç¤º
- **Performance Monitor**: Commandå®Ÿè¡Œæ™‚é–“ã®çµ±è¨ˆè¡¨ç¤º

#### ProjectValidationWindow
- **Asset Validation**: ScriptableObjectã®æ•´åˆæ€§æ¤œè¨¼
- **Reference Checker**: å‚ç…§é–¢ä¿‚ã®ä¾å­˜æ€§åˆ†æ
- **Performance Audit**: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã®æœ€é©åŒ–ææ¡ˆ

#### AI Visual Sensor Debuggerï¼ˆæ–°è¦è¿½åŠ ï¼‰
```
Visual Sensor Debug Tools:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Scene View Visualization           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - è¦–ç•Œç¯„å›²ã®è¡¨ç¤º        â”‚ - æ¤œå‡ºç›®æ¨™ã®è¡¨ç¤º     â”‚
â”‚ - è¨˜æ†¶ä½ç½®ã®è¡¨ç¤º        â”‚ - äºˆæ¸¬è»Œé“ã®è¡¨ç¤º     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Custom Inspector Window             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒãƒƒã‚°æƒ…å ±â”‚ - è­¦æˆ’ãƒ¬ãƒ™ãƒ«è¡¨ç¤º    â”‚
â”‚ - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ç›®æ¨™ãƒªã‚¹ãƒˆ    â”‚ - ãƒ¡ãƒ¢ãƒªä½¿ç”¨çŠ¶æ³    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½å®Ÿè£…**:
- **Gizmosæç”»**: OnDrawGizmosSelectedã§ã®è¦–è¦šçš„è¡¨ç¤º
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: Play Modeä¸­ã®çŠ¶æ…‹æ›´æ–°è¡¨ç¤º
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š**: Unity Profilerçµ±åˆ
- **ãƒ­ã‚°å‡ºåŠ›**: æ§‹é€ åŒ–ãƒ­ã‚°ã«ã‚ˆã‚‹è©³ç´°ãƒˆãƒ¬ãƒ¼ã‚¹

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»å“è³ªä¿è¨¼è¨­è¨ˆ

### Code Quality Assurance

#### Static Analysis Integration
```yaml
è³ªå“ä¿è¨¼Pipeline:
1. Pre-Commit Hooks:
   - Coding Standard Check
   - Cyclomatic Complexity < 10
   - Unit Test Coverage > 80%

2. CI/CD Integration:
   - Unity Test Runnerå®Ÿè¡Œ
   - Performance Benchmark
   - Memory Leak Detection

3. Code Review Process:
   - Architecture Compliance Check
   - Design Pattern Review
   - Performance Impact Assessment
```

### Memory Safety Strategy
- **Null Reference Prevention**: Null Conditional Operatorsä½¿ç”¨å¾¹åº•
- **Collection Safety**: ReadOnlyCollection<T>ã«ã‚ˆã‚‹å‚ç…§å®‰å…¨æ€§
- **Resource Management**: using statement + IDisposableãƒ‘ã‚¿ãƒ¼ãƒ³

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥è¨­è¨ˆ

### Testing Architecture

#### Unit Testing Strategy
```csharp
[TestFixture]
public class EventSystemTests
{
    [Test]
    public void EventRaise_WithMultipleListeners_CallsAllInPriorityOrder()
    {
        // Arrange
        var gameEvent = ScriptableObject.CreateInstance<GameEvent>();
        var listeners = CreatePriorityOrderedListeners();
        
        // Act
        gameEvent.Raise();
        
        // Assert
        AssertCallOrderMatchesPriority(listeners);
    }
}
```

#### Integration Testing Strategy
- **Scene-Based Tests**: å®Ÿéš›ã®ã‚·ãƒ¼ãƒ³ã§ã®çµ±åˆãƒ†ã‚¹ãƒˆ
- **Performance Tests**: Memory/CPUãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è‡ªå‹•æ¸¬å®š
- **AI Behavior Tests**: State Machineé·ç§»ã®ç¶²ç¾…ãƒ†ã‚¹ãƒˆ

#### Play Mode Testing
- **Real-time System Tests**: Play Modeä¸­ã§ã®å‹•ä½œæ¤œè¨¼
- **User Interaction Simulation**: Input Systemã¨ã®çµ±åˆãƒ†ã‚¹ãƒˆ
- **Audio System Tests**: 3Dç©ºé–“éŸ³éŸ¿ã®ç²¾åº¦æ¤œè¨¼

## é…å¸ƒãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­è¨ˆ

### Build Pipeline Architecture

```
Build Configuration:
â”œâ”€ Development Build:
â”‚  â”œâ”€ Full Debug Information
â”‚  â”œâ”€ Editor Tool Integration
â”‚  â””â”€ Performance Profiler Enabled
â”œâ”€ Staging Build:
â”‚  â”œâ”€ Optimized Performance
â”‚  â”œâ”€ Limited Debug Info
â”‚  â””â”€ QA Testing Ready
â””â”€ Production Build:
   â”œâ”€ Maximum Optimization
   â”œâ”€ Asset Bundle Optimization
   â””â”€ Platform-Specific Tuning
```

### Platform Optimization Strategy

#### iOS Optimization
- **Metal Rendering**: URP Metalç‰¹åŒ–æœ€é©åŒ–
- **Memory Constraints**: iOSå›ºæœ‰ã®ãƒ¡ãƒ¢ãƒªåˆ¶é™å¯¾å¿œ
- **Touch Input**: ã‚¿ãƒƒãƒã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æœ€é©åŒ–

#### Android Optimization  
- **Vulkan/OpenGL ES**: ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°APIè‡ªå‹•é¸æŠ
- **Fragment Management**: å¤šæ§˜ãªè§£åƒåº¦å¯¾å¿œ
- **Performance Scaling**: ãƒ‡ãƒã‚¤ã‚¹æ€§èƒ½ã«å¿œã˜ãŸå“è³ªèª¿æ•´

## ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—è¨­è¨ˆï¼ˆSPEC.md v3.0 å®Œå…¨å¯¾å¿œï¼‰

### Ultimate Template 5-Phase Architecture

ã“ã®è¨­è¨ˆã¯ã€**SPEC.md v3.0 ã®5ãƒ•ã‚§ãƒ¼ã‚ºæ§‹æƒ³ï¼ˆPhase A-Eï¼‰**ã‚’æŠ€è¡“çš„ã«å®Ÿç¾ã—ã€**4ã¤ã®æ ¸å¿ƒä¾¡å€¤**ã‚’æ®µéšçš„ã«æä¾›ã—ã¾ã™ã€‚

#### Phase A: æ–°è¦é–‹ç™ºè€…å¯¾å¿œæ©Ÿèƒ½è¨­è¨ˆï¼ˆğŸ”´ æœ€é«˜å„ªå…ˆåº¦ï¼‰

##### A.1 Interactive Setup Wizard System Architecture

**FR-7.1.1 å¯¾å¿œ**: 1åˆ†ä»¥å†…ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—è‡ªå‹•åŒ–

```
Setup Wizard Comprehensive Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Environment Diagnostics Layer       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SystemRequirementChecker (åŸºç›¤å®Œæˆæ¸ˆã¿)     â”‚
â”‚ - Unity Version Validation âœ…               â”‚
â”‚ - VS/VSCode Detection âœ…                    â”‚
â”‚ - Git Configuration Check âœ…                â”‚
â”‚ EnvironmentDiagnostics (æ–°è¦å®Ÿè£…)           â”‚
â”‚ - Hardware Diagnostics                      â”‚
â”‚ - Performance Assessment                    â”‚
â”‚ - PDF Report Generation                     â”‚
â”‚ - Auto-Fix Suggestions                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Setup Wizard UI Layer              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SetupWizardWindow (EditorWindow)            â”‚
â”‚ - Step-by-Step Guidance                    â”‚
â”‚ - Progress Visualization                    â”‚
â”‚ - Error Handling & Recovery                 â”‚
â”‚ GenreSelectionUI                            â”‚
â”‚ - 6-Genre Preview System                    â”‚
â”‚ - Interactive Configuration                 â”‚
â”‚ - Real-time Validation                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Project Generation Engine            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ProjectGenerationEngine                     â”‚
â”‚ - Template Asset Deployment                 â”‚
â”‚ - Scene Configuration Setup                 â”‚
â”‚ - Package Dependencies Resolution           â”‚
â”‚ - Settings Synchronization                  â”‚
â”‚ ModuleSelectionSystem                       â”‚
â”‚ - Audio Module Configuration                â”‚
â”‚ - Localization Setup                        â”‚
â”‚ - Analytics Integration                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Clone & Create ä¾¡å€¤å®Ÿç¾æŠ€è¡“è©³ç´°**:
- **ç›®æ¨™**: 30åˆ† â†’ 1åˆ†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆ97%çŸ­ç¸®é”æˆï¼‰
- **æŠ€è¡“å®Ÿè£…**: 
  - Unity Editor API ã«ã‚ˆã‚‹è‡ªå‹•åŒ–
  - Package Manager ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯åˆ¶å¾¡
  - ScriptableObject è¨­å®šã®å‹•çš„ç”Ÿæˆ
  - Sceneæ§‹æˆã®è‡ªå‹•é…ç½®
- **ã‚¨ãƒ©ãƒ¼äºˆé˜²ã‚·ã‚¹ãƒ†ãƒ **: äº‹å‰è¨ºæ–­ã«ã‚ˆã‚‹å•é¡Œå›é¿ã¨ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ä¿®å¾©
- **é€²æ—å¯è¦–åŒ–**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã¨è©³ç´°ãƒ­ã‚°

##### A.2 Game Genre Templates System Architecture

**FR-7.1.2 å¯¾å¿œ**: 6ã‚¸ãƒ£ãƒ³ãƒ«å¯¾å¿œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ 

```
Comprehensive Genre Template Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Template Configuration Layer         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GenreTemplateConfig (ScriptableObject)      â”‚
â”‚ â”œâ”€ FPS Template Configuration               â”‚
â”‚ â”‚  - First Person Camera Setup              â”‚
â”‚ â”‚  - Shooting Mechanics Presets             â”‚
â”‚ â”‚  - Combat UI Configuration                â”‚
â”‚ â”œâ”€ TPS Template Configuration               â”‚
â”‚ â”‚  - Third Person Camera System             â”‚
â”‚ â”‚  - Cover System Integration               â”‚
â”‚ â”‚  - Aiming & Movement Mechanics            â”‚
â”‚ â”œâ”€ Platformer Template Configuration        â”‚
â”‚ â”‚  - Jump & Movement Physics                â”‚
â”‚ â”‚  - Collectible Systems                    â”‚
â”‚ â”‚  - Level Design Tools                     â”‚
â”‚ â”œâ”€ Stealth Template Configuration           â”‚
â”‚ â”‚  - AI Detection Systems âœ…                â”‚
â”‚ â”‚  - Stealth Mechanics                      â”‚
â”‚ â”‚  - Environmental Interaction              â”‚
â”‚ â”œâ”€ Adventure Template Configuration         â”‚
â”‚ â”‚  - Dialogue Systems                       â”‚
â”‚ â”‚  - Inventory Management                   â”‚
â”‚ â”‚  - Quest System Framework                 â”‚
â”‚ â””â”€ Strategy Template Configuration          â”‚
â”‚    - RTS Camera Controls                    â”‚
â”‚    - Unit Selection Systems                 â”‚
â”‚    - Resource Management UI                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Runtime Template Management          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TemplateManager (Singleton)                â”‚
â”‚ - Dynamic Genre Switching                   â”‚
â”‚ - State Preservation System                 â”‚
â”‚ - Asset Bundle Management                   â”‚
â”‚ - Configuration Synchronization             â”‚
â”‚ TemplateTransitionSystem                    â”‚
â”‚ - Smooth Scene Transitions                  â”‚
â”‚ - Data Migration Between Genres             â”‚
â”‚ - User Progress Preservation                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Learn & Grow ä¾¡å€¤å®Ÿç¾æŠ€è¡“è©³ç´°**:
- **æ®µéšçš„å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ **: 5æ®µéšæ§‹æˆï¼ˆåŸºç¤â†’å¿œç”¨â†’å®Ÿè·µâ†’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºâ†’å‡ºç‰ˆï¼‰
- **å­¦ç¿’ã‚³ã‚¹ãƒˆ70%å‰Šæ¸›å®Ÿç¾**: 
  - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ±åˆ
  - å®Ÿè·µçš„ã‚µãƒ³ãƒ—ãƒ«ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ’ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ 
  - é€²æ—è¿½è·¡ã¨æˆæœæ¸¬å®š
- **å„ã‚¸ãƒ£ãƒ³ãƒ«15åˆ†ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤å®Ÿç¾**: åŸºæœ¬å‹•ä½œç¢ºèªå¯èƒ½ãªã‚µãƒ³ãƒ—ãƒ«ã‚·ãƒ¼ãƒ³

##### A.3 Asset Store Integration Guide System

**FR-7.1.3 å¯¾å¿œ**: äººæ°—ã‚¢ã‚»ãƒƒãƒˆçµ±åˆæ”¯æ´ã‚·ã‚¹ãƒ†ãƒ 

```
Asset Integration Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Asset Compatibility Engine         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AssetCompatibilityChecker                   â”‚
â”‚ - Popular Assets Database (50+ assets)     â”‚
â”‚ - Dependency Conflict Resolution            â”‚
â”‚ - Version Compatibility Matrix             â”‚
â”‚ - Integration Step-by-Step Guides          â”‚
â”‚ AssetRecommendationSystem                   â”‚
â”‚ - Genre-Specific Recommendations            â”‚
â”‚ - Price & Rating Information               â”‚
â”‚ - Community Reviews Integration             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Community & Ecosystem ä¾¡å€¤å®Ÿç¾**: ã‚¢ã‚»ãƒƒãƒˆå…±æœ‰ã¨çŸ¥è­˜äº¤æ›ã®æŠ€è¡“åŸºç›¤æä¾›

#### Phase B: é«˜åº¦ãªã‚²ãƒ¼ãƒ æ©Ÿèƒ½è¨­è¨ˆï¼ˆğŸŸ¡ é«˜å„ªå…ˆåº¦ï¼‰

##### B.1 Advanced Save/Load System Architecture

**FR-7.2.1 å¯¾å¿œ**: é«˜åº¦ãªã‚»ãƒ¼ãƒ–/ãƒ­ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 

```
Save System Comprehensive Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Modular Save Management            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SaveSystemManager (ScriptableObject-based)  â”‚
â”‚ - Multi-Slot Support (10 slots)            â”‚
â”‚ - Auto-Save System (Time + Checkpoint)     â”‚
â”‚ - Cloud Integration (Steam/iCloud/Google)   â”‚
â”‚ - AES256 Encryption Layer                   â”‚
â”‚ - Version Migration System                  â”‚
â”‚ - Data Integrity Verification               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

##### B.2-B.4 è¿½åŠ ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ

**FR-7.2.2**: Comprehensive Settings System - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨­å®šå¤‰æ›´
**FR-7.2.3**: 4è¨€èªå¯¾å¿œãƒ­ãƒ¼ã‚«ãƒªã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ - æ—¥è‹±ä¸­éŸ“ã‚µãƒãƒ¼ãƒˆ  
**FR-7.2.4**: Performance Profiler Integration - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–

#### Phase C-E: ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ æ©Ÿèƒ½ï¼ˆğŸŸ¢ğŸ”µ ä¸­ä½å„ªå…ˆåº¦ï¼‰

**Ship & Scale ä¾¡å€¤å®Ÿç¾**: ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³å¯¾å¿œã®åŒ…æ‹¬æ©Ÿèƒ½ç¾¤
- **Phase C**: Build Pipeline, Asset Validation, Memory Management
- **Phase D**: Package Templates, Code Generator, Visual Scripting
- **Phase E**: Plugin Architecture, Template Marketplace, Community Docs

### æˆåŠŸæŒ‡æ¨™ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ã®æŠ€è¡“å®Ÿç¾

#### å®šé‡çš„ç›®æ¨™ã®æŠ€è¡“å®Ÿè£…æˆ¦ç•¥

**REQUIREMENTS.md NFR-1.5 ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶å®Ÿç¾**:

```
Performance Achievement Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Setup Time Optimization (97%å‰Šæ¸›)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - Parallel Asset Processing                 â”‚
â”‚ - Pre-compiled Template Bundles             â”‚
â”‚ - Incremental Configuration Updates         â”‚
â”‚ - Smart Caching System                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Learning Cost Reduction (70%å‰Šæ¸›)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - Interactive Tutorial Engine               â”‚
â”‚ - Progressive Disclosure UI                 â”‚
â”‚ - Context-Aware Help System                 â”‚
â”‚ - Real-time Progress Tracking               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å“è³ªä¿è¨¼ã®æŠ€è¡“å®Ÿè£…

**Unity 6å®Œå…¨å¯¾å¿œã¨ã‚¯ãƒªãƒ¼ãƒ³å®Ÿè£…**:
- æ—¢å­˜å®Ÿè£…: ã‚¨ãƒ©ãƒ¼ï¼ã€è­¦å‘Šï¼ã®å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ã‚³ãƒ¼ãƒ‰å“è³ªé”æˆæ¸ˆã¿
- NPCVisualSensorã‚·ã‚¹ãƒ†ãƒ : 95%ãƒ¡ãƒ¢ãƒªå‰Šæ¸›ã€67%å®Ÿè¡Œé€Ÿåº¦æ”¹å–„å®Ÿç¾æ¸ˆã¿  
- 50ä½“NPCåŒæ™‚ç¨¼åƒ: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶é”æˆæ¸ˆã¿

## å°†æ¥æ‹¡å¼µè¨­è¨ˆ

### Phase 2 Extension Architecture

#### Multiplayer Integration Points
```
Future Multiplayer Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Network Abstraction Layer           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ INetworkCommand       â”‚ INetworkEvent       â”‚
â”‚ - NetworkExecute()    â”‚ - NetworkRaise()    â”‚
â”‚ - Serialize()         â”‚ - Deserialize()     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### DI Framework Integration Points
- **Container Registration**: å‹ç™»éŒ²ã®ä¸­å¤®åŒ–
- **Lifecycle Management**: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆãƒ»ç ´æ£„ã®è‡ªå‹•åŒ–
- **Dependency Graph**: ä¾å­˜é–¢ä¿‚ã®å¯è¦–åŒ–ãƒ»æœ€é©åŒ–

### Phase 3 Advanced Features

#### DOTS Partial Integration
- **High-Performance Systems**: ECSé©ç”¨å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ ã®ç‰¹å®š
- **Hybrid Architecture**: MonoBehaviour + ECSå…±å­˜è¨­è¨ˆ
- **Migration Strategy**: æ®µéšçš„ECSç§»è¡Œè¨ˆç”»

#### Machine Learning Integration
- **Behavior Optimization**: AIè¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ©Ÿæ¢°å­¦ç¿’æœ€é©åŒ–
- **Balance Tuning**: ã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹ã®è‡ªå‹•èª¿æ•´AI
- **Player Analytics**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è¡Œå‹•åˆ†æã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ€é©åŒ–

## SDDï¼ˆã‚¹ãƒšãƒƒã‚¯é§†å‹•é–‹ç™ºï¼‰çµ±åˆè¨­è¨ˆ

### SDD Workflow Integration Architecture

```
SDD Integration System:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Document Management Layer         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MarkdownDocumentManager                     â”‚
â”‚ - SPEC â†’ REQUIREMENTS â†’ DESIGN â†’ TASKS     â”‚
â”‚ - Version Control Integration               â”‚
â”‚ - Automated Phase Transition               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AI Integration Layer            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Claude Code MCP Server Integration:         â”‚
â”‚ - unityMCP: Direct Unity manipulation      â”‚
â”‚ - context7: Technical documentation search â”‚
â”‚ - git: Version control management          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**SDDå®Ÿè£…æˆ¦ç•¥**:
- **5æ®µéšãƒ•ã‚§ãƒ¼ã‚ºç®¡ç†**: æ§‹æƒ³â†’å½¢å¼åŒ–â†’è¨­è¨ˆâ†’åˆ†è§£â†’å®Ÿè£…ãƒ»æ¤œè¨¼
- **AIé€£æºã‚³ãƒãƒ³ãƒ‰**: `/spec-create`, `/design-create`, `/tasks-create`, `/todo-execute`
- **ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£**: è¦ä»¶ã‹ã‚‰å®Ÿè£…ã¾ã§ã®å®Œå…¨è¿½è·¡
- **å“è³ªä¿è¨¼**: å„ãƒ•ã‚§ãƒ¼ã‚ºã§ã®æ•´åˆæ€§æ¤œè¨¼

### MCPã‚µãƒ¼ãƒãƒ¼çµ±åˆæˆ¦ç•¥

#### æˆ¦ç•¥çš„å„ªå…ˆé †ä½ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
1. **æƒ…å ±åé›†ãƒ•ã‚§ãƒ¼ã‚º**: ddg-search â†’ context7 â†’ deepwiki
2. **å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º**: context7 â†’ unityMCP â†’ git
3. **3Dã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶ä½œ**: blender-mcp â†’ unityMCP â†’ git

**AI+äººé–“ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰é–‹ç™º**:
- **AIè²¬ä»»ç¯„å›²**: ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã€æŠ€è¡“èª¿æŸ»ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- **äººé–“è²¬ä»»ç¯„å›²**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ¤æ–­ã€å“è³ªæ¤œè¨¼ã€æˆ¦ç•¥æ±ºå®š
- **ç›¸äº’é€£æº**: MCPã‚µãƒ¼ãƒãƒ¼æ´»ç”¨ã«ã‚ˆã‚‹åŠ¹ç‡åŒ–

## ã¾ã¨ã‚ãƒ»SDDçµ±åˆã«ã‚ˆã‚‹ä¾¡å€¤å®Ÿç¾

ã“ã®æŠ€è¡“è¨­è¨ˆæ›¸ã¯ã€**SPEC.md v3.0 ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ“ã‚¸ãƒ§ãƒ³ â†’ REQUIREMENTS.md å½¢å¼åŒ–è¦ä»¶ â†’ æœ¬æŠ€è¡“è¨­è¨ˆæ›¸**ã®å®Œå…¨ãªãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ã‚’ç¢ºä¿ã—ã€ä»¥ä¸‹ã®ä¾¡å€¤å®Ÿç¾ã‚’æŠ€è¡“çš„ã«ä¿è¨¼ã—ã¾ã™ï¼š

### 4ã¤ã®æ ¸å¿ƒä¾¡å€¤å®Ÿç¾ã®ãŸã‚ã®å®Œå…¨è¨­è¨ˆåŸºç›¤

#### Clone & Create ä¾¡å€¤ã®æŠ€è¡“å®Ÿç¾
- **1åˆ†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**: SystemRequirementCheckeråŸºç›¤ + æ–°è¦EnvironmentDiagnostics + SetupWizardWindow
- **97%æ™‚é–“çŸ­ç¸®**: 30åˆ†â†’1åˆ†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ä¸¦åˆ—å‡¦ç†ã¨ã‚¹ãƒãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æŠ€è¡“
- **ã‚¨ãƒ©ãƒ¼äºˆé˜²**: äº‹å‰è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹å•é¡Œå›é¿ã¨ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ä¿®å¾©

#### Learn & Grow ä¾¡å€¤ã®æŠ€è¡“å®Ÿç¾  
- **70%å­¦ç¿’ã‚³ã‚¹ãƒˆå‰Šæ¸›**: 40æ™‚é–“â†’12æ™‚é–“ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³
- **æ®µéšçš„æˆé•·æ”¯æ´**: 5æ®µéšå­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ï¼ˆåŸºç¤â†’å¿œç”¨â†’å®Ÿè·µâ†’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºâ†’å‡ºç‰ˆï¼‰
- **6ã‚¸ãƒ£ãƒ³ãƒ«å®Œå…¨å¯¾å¿œ**: FPS/TPS/Platformer/Stealth/Adventure/Strategy

#### Ship & Scale ä¾¡å€¤ã®æŠ€è¡“å®Ÿç¾
- **ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³å“è³ª**: ã‚¨ãƒ©ãƒ¼ï¼ãƒ»è­¦å‘Šï¼ã®ã‚¯ãƒªãƒ¼ãƒ³å®Ÿè£…åŸºç›¤
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: 95%ãƒ¡ãƒ¢ãƒªå‰Šæ¸›ãƒ»67%é€Ÿåº¦æ”¹å–„ã®ç¶™æ‰¿
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: Phase A-Eæ®µéšçš„æ‹¡å¼µã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

#### Community & Ecosystem ä¾¡å€¤ã®æŠ€è¡“å®Ÿç¾
- **ã‚¢ã‚»ãƒƒãƒˆçµ±åˆæ”¯æ´**: 50+äººæ°—ã‚¢ã‚»ãƒƒãƒˆå¯¾å¿œã‚·ã‚¹ãƒ†ãƒ 
- **çŸ¥è­˜å…±æœ‰åŸºç›¤**: ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹
- **ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ æ‹¡å¼µ**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨APIã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤

### SDD ãƒ•ã‚§ãƒ¼ã‚º4ã¸ã®å®Œå…¨æ©‹æ¸¡ã—

#### TASKS.mdç”Ÿæˆã®ãŸã‚ã®å®Ÿè£…åŸºç›¤ç¢ºä¿
- **Phase Aå„ªå…ˆå®Ÿè£…**: TASK-003 (Setup Wizard) ã®æŠ€è¡“è¨­è¨ˆå®Œäº†
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°**: å…·ä½“çš„ã‚¯ãƒ©ã‚¹è¨­è¨ˆãƒ»APIä»•æ§˜ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å®šç¾©
- **å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³**: ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ¨™æº–ãƒ»ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ãƒ»å“è³ªä¿è¨¼æ–¹é‡

#### æŠ€è¡“å®Ÿè£…ã®å®Œå…¨æº–å‚™
- **æ—¢å­˜åŸºç›¤æ´»ç”¨**: NPCVisualSensorç­‰ã®æˆåŠŸå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ–°æ©Ÿèƒ½ã«é©ç”¨
- **Unity 6æœ€é©åŒ–**: æœ€æ–°æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã§ã®å®Ÿè£…æ–¹é‡ç¢ºç«‹
- **å“è³ªä¿è¨¼çµ±åˆ**: CI/CDãƒ»é™çš„è§£æãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ç©¶æ¥µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®Ÿç¾ã¸ã®ç¢ºå®Ÿãªé“ç­‹

ã“ã®æŠ€è¡“è¨­è¨ˆã«ã‚ˆã‚Šã€**SPEC.md v3.0ã§å®šç¾©ã•ã‚ŒãŸç©¶æ¥µã® Unity 6ãƒ™ãƒ¼ã‚¹ 3Dã‚²ãƒ¼ãƒ é–‹ç™ºåŸºç›¤ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**ã®æŠ€è¡“çš„å®Ÿç¾ãŒå®Œå…¨ã«å¯èƒ½ã¨ãªã‚Šã€æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆTASKS.md â†’ å®Ÿè£…ãƒ»æ¤œè¨¼ï¼‰ã¸ã®ç¢ºå®Ÿãªç§»è¡Œã‚’ä¿è¨¼ã—ã¾ã™ã€‚

**è¨­è¨ˆå®Œäº†çŠ¶æ…‹**: âœ… SPEC.md v3.0 å®Œå…¨æ•´åˆæ€§ç¢ºä¿ã€æŠ€è¡“å®Ÿè£…æº–å‚™å®Œäº†